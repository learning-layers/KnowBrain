<div id="resources-toolbar">
    <div class="row">
        <div class="col-md-2">
            <div class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button" id="tags-dropdown" data-toggle="dropdown" aria-expanded="true"><div class="tag-circle" ng-show="selectedTag != null"></div>
                {{selectedTag != null ? selectedTag : 'All tags'}}
                <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="tagsDropdownMenu">
                    <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectTag(null)">All tags</a></li>
                    <li role="presentation" class="divider"></li>
                    <li role="presentation" ng-repeat="tag in availableTags"><a role="menuitem" tabindex="-1" ng-click="selectTag(tag)"><div class="tag-circle"></div> {{tag}}</a></li>
                </ul>
            </div>
        </div>
        <div class="col-md-6">
            <div class="input-group">
                <input id="circle-resources-search-field" type="search" class="form-control" placeholder="search" ng-model="searchResourcesString">
                <span id="searchclear" class="glyphicon glyphicon-remove-circle" ng-click="searchResourcesString = ''" ng-show="searchResourcesString.length > 0"></span>
                <span class="input-group-btn">
                <button type="submit" class="btn btn-default">
                <span class="glyphicon glyphicon-search"></span>
                </button>
                </span>
            </div>
        </div>
        <div class="col-md-4">
            <div class="btn-group" role="group" aria-label="...">
                <button type="button" class="btn btn-default" ng-class="{active : isGridViewMode == true}" ng-click="isGridViewMode = true; isListViewMode = false;">
                <span class="glyphicon glyphicon-th" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-default" ng-class="{active : isListViewMode == true}" ng-click="isGridViewMode = false; isListViewMode = true;">
                <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span>
                </button>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                Add <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu">
                    <li><a ng-click="addEntity()">Upload</a></li>
                    <li><a >Link</a></li>
                    <li><a >Dropbox</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="sort-order-bar row">
    <div class="col-md-1 col-xs-2">
        <a ng-class="{'sort-order-filter-active' : predicate == 'fileType'}" ng-click="reverse = predicate != 'fileType' ? false : !reverse; predicate = 'fileType';">Type<span ng-show="predicate == 'fileType'">{{reverse ? '&#9650;' : '&#9660;'}}</span></a>
    </div>
    <div class="col-md-7 col-xs-10">
        <a ng-class="{'sort-order-filter-active' : predicate == 'label'}" ng-click="reverse = predicate != 'label' ? false : !reverse; predicate = 'label';">Title <span ng-show="predicate == 'label'">{{reverse ? '&#9650;' : '&#9660;'}}</span></a>
    </div>
    <div class="col-md-2 hidden-xs">
        <a ng-class="{'sort-order-filter-active' : predicate == 'creationTime'}" ng-click=" reverse = predicate != 'creationTime' ? false : !reverse; predicate = 'creationTime';">Date <span ng-show="predicate == 'creationTime'">{{reverse ? '&#9650;' : '&#9660;'}}</span></a>
    </div>
    <div class="col-md-2 hidden-xs">
        <a ng-class="{'sort-order-filter-active' : predicate == 'author.label'}" ng-click=" reverse = predicate != 'author.label' ? false : !reverse; predicate = 'author.label';">Author <span ng-show="predicate == 'author.label'">{{reverse ? '&#9650;' : '&#9660;'}}</span></a>
    </div>
</div>
<div ng-show="isGridViewMode">
    <ng-entity ng-repeat="entry in entities | orderBy: predicate : reverse | filter : filterFunction"></ng-entity>
</div>
<div ng-show="isListViewMode">
    <div ng-repeat="entry in entities | orderBy: predicate : reverse | filter : filterFunction">
        <div class="row vertical-align top-buffer">
            <div class="col-md-1 col-xs-1" ng-switch="entry.type">
                <div class="list-entitity-clickable" ng-click="handleEntryClick(entry)">
                    <img ng-switch-when="group" src="images/group_pic_dummy.jpg" class="collection-entry-profile-pic"/>
                    <img ng-switch-when="priv" src="images/group_pic_dummy.jpg" class="collection-entry-profile-pic"/>
                    <div ng-switch-when="coll" class="list-entity-icon icon-folder">
                    </div>
                    <div ng-switch-when="file" class="list-entity-icon" ng-class="{'icon-file' : entry.fileType == null, 'icon-file-image' : entry.fileType == 'image', 'icon-file-pdf' : entry.mimeType == 'application/pdf', 'icon-file-audio' : entry.fileType == 'audio'}">
                    </div>
                    <div ng-switch-when="entity" class="list-entity-icon" class="glyphicon glyphicon-link">
                    </div>
                    <div ng-switch-when="qa" class="list-entity-icon icon-question-mark">
                    </div>
                    <div ng-switch-default class="list-entity-icon" class="glyphicon glyphicon-link">
                    </div>
                </div>
            </div>
            <div class="col-md-7 col-xs-11">
                <div class="col-md-12 list-entitity-clickable" ng-click="handleEntryClick(entry)">
                    {{entry.label}}
                </div>
                <div class="col-md-12" ng-show="entry.tags.length > 0">
                    <div class="qa-tag" ng-repeat="tag in entry.tags"><a ng-click="selectTag(tag)">{{tag}}</a>
                    </div>
                </div>
            </div>
            <div class="col-md-2 hidden-xs">
                {{entry.getFormattedCreationTime()}}
            </div>
            <div class="col-md-2 hidden-xs">
                {{entry.author.label}}
            </div>
        </div>
        <div ng-hide="$last" class="col-md-12 col-xs-12 list-divider"></div>
    </div>
</div>