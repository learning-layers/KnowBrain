<!--
-  Copyright 2014 Graz University of Technology - KTI (Knowledge Technologies Institute)
-
-  Licensed under the Apache License, Version 2.0 (the "License");
-  you may not use this file except in compliance with the License.
-  You may obtain a copy of the License at
-
-  http://www.apache.org/licenses/LICENSE-2.0
-
-  Unless required by applicable law or agreed to in writing, software
-  distributed under the License is distributed on an "AS IS" BASIS,
-  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-  See the License for the specific language governing permissions and
-  limitations under the License.
-->
<div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close" ng-click="close()" aria-hidden="true">&times;</button>
        <h4 class="modal-title"><span class="glyphicon glyphicon-link" style="margin-right:10px;"></span>Choose resource</h4>
    </div>
    <div class="modal-body">
        <div id="path">
            <div ng-include="'js/app/modules/collection/breadcrumbs.tpl.html'" style="position:relative; float:left; margin:0px; padding:0px;"></div>
            <div class="clearfix"></div>
        </div>
        <div id="collectionContent">
            <ng-entity ng-repeat="entry in currentCollection.entries" ></ng-entity>
        </div>
        <div class="clearfix"></div>
        <div id="resourceUploadWidget" class="col-lg-12">
            <div id="resourceUploadWidgetFilesWrapper" >
                <div ng-repeat="resource in selectedResources">
                    <div class="uploadFileWrapper">
                        <div class="uploadFile">
                            <div class="col-xs-10" style="margin-bottom: 10px; padding-left: 4px;">
                                <div class="col-xs-2" style="display:inline-block; padding:0px;">
                                    <div class="resource-attachment-icon" ng-class="{'glyphicon glyphicon-file' : resource.type === 'uploadedFile',
                                        'glyphicon glyphicon-folder-close' : resource.type === 'coll',
                                    'glyphicon glyphicon-link' : resource.type === 'entity'}"></div>
                                </div>
                                <div class="col-xs-10 padding-zero" style="display:inline-block; padding-left:0px;">
                                    <span><b> {{resource.label}}</b></span>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="col-xs-2" style="padding-right:2px;">
                                <div class="btn btn-group-xs" ng-show="!file.uploaded" style="padding:0px; float: right;">
                                    <button class="btn btn-danger" ng-click="deselectResource($index)">
                                    <i class="glyphicon glyphicon-trash"></i>
                                    </button>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
            <div class="btn-group">
                <button class="btn btn-danger" ng-class="{'disabled' : selectedResources.length == 0}" ng-click="resetAttachedResources()"><i class="glyphicon glyphicon-trash"></i>&nbsp;Clear list</button>
                <button class="btn btn-success" ng-class="{'disabled' : selectedResources.length == 0}" ng-click="doneClicked()"><i class="glyphicon glyphicon-cloud-upload"></i>&nbsp;Attach {{selectedResources.length}}&nbsp;resource{{selectedResources.length == 1 ? '' : 's'}}</button>
            </div>
            </div>
        </div>
    </div>
</div>