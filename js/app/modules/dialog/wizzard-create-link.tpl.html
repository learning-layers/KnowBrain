<!--
  -  Copyright 2014 Graz University of Technology - KTI (Knowledge Technologies Institute)
  - 
  -  Licensed under the Apache License, Version 2.0 (the "License");
  -  you may not use this file except in compliance with the License.
  -  You may obtain a copy of the License at
  - 
  -  http://www.apache.org/licenses/LICENSE-2.0
  - 
  -  Unless required by applicable law or agreed to in writing, software
  -  distributed under the License is distributed on an "AS IS" BASIS,
  -  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  -  See the License for the specific language governing permissions and
  -  limitations under the License.
-->

  <div class="modal-content kb-study">
    <div class="modal-header">
      <button type="button" class="close" ng-click="close()" aria-hidden="true">&times;</button>
      <h4 class="modal-title"><span class="glyphicon glyphicon-link" style="margin-right:10px;"></span>Create a link</h4>
    </div>
    <div class="modal-body"> 

     <form name="url" role="form" class="form-horizontal">
      <div class="form-group">
        <label class="col-lg-3 control-label">Label:</label>
        <div class="col-lg-9">
          <input type="text" class="form-control" placeholder="Please enter a label" ng-model="link.label" required="required">
        </div>
      </div>

      <div class="form-group">
        <label class="col-lg-3 control-label">URL:</label>
        <div class="col-lg-9">
          <input type="url"  class="form-control" placeholder="Example: http://know-center.tugraz.at" ng-model="link.url" required="required">
        </div>
      </div>
      <div class="clearfix"></div>
                <div id="divCategories" class="div-separator">
                <div class="dropdown">
                <button class="btn btn-default" type="button" id="categories-dropdown" data-toggle="dropdown" aria-expanded="true"> 
                <div class="category-circle" ng-show="selectedCategories = null"></div>
                {{ 'Select a category'}}
                <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" style="padding-left:5px;" role="menu" aria-labelledby="categoriesDropdownMenu">
                    <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectCategory(null)">Select a category</a></li>
                    <li role="presentation" class="divider"></li>
                	<li role="presentation" ng-repeat="category in predefinedCategories"><label class="checkbox" ng-click="selectCategory($event,category)"><input type="checkbox" value="category" ng-checked="selectedCategories.indexOf(category) > -1"  ng-click="selectCategory($event,category)" > {{category}}</label></li>
                	<div class="clearfix"><button class="pull-right" style="margin-right:5px;"   ng-click="getTagsforCategories(selectedCategories)">OK</button></div>
                </ul>
                </div>
                </div>
                <div  ng-show="recTagsShow" class="div-separator ng-hide" id="recTags" >Recommended Tags: <button ng-repeat="tag in recommendedTags" ng-click='addTagToInput(tag)'>{{tag}}</button></div>
                <div id="divTags" class="div-separator">
                	<h5>Tags:</h5>
                	<!-- TODO: change tagAdded -->
                	<tags-input ng-model="allTags" custom-class="bootstrap" placeholder="{{t('add_a_tag')}}" 
                	add-on-comma="true"
                	add-on-space="false"
                	add-on-blur="false"
                	add-on-enter="true"
                	allowed-tags-pattern="^[a-zA-Z0-9_-]*$"
                	>
                	<!--  <auto-complete source="queryTags($query)"
                	min-length="1"
                	max-results-to-show="15"
                	>
                	</auto-complete>-->
                	</tags-input>
                	
            </div>
  
    <div class="modal-footer"> 
     <!--<button type="button" class="btn btn-default" ng-click="backToChoose()">{{t('back')}}</button>-->
     <div>
       <button class="btn btn-success" ng-click="createLink(link)">Add</button>
     </div>
   </div>
    </form>
 </div>
</div>